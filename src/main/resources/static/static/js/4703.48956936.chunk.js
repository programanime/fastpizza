"use strict";(self.webpackChunkFastspring_pizza=self.webpackChunkFastspring_pizza||[]).push([[4703],{1687:(e,a,s)=>{s.d(a,{Ud:()=>i});var n=s(5294),c=s(3708);const i=n.Z.create({baseURL:c.T,headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0});new Headers({Accept:"application/json"}),new Headers({Accept:"application/json"}),new Headers({Accept:"application/json","Content-Type":"application/json"}),new Headers({Accept:"application/json"}),new Headers({Accept:"application/json","Content-Type":"application/json"}),new Headers({Accept:"application/json"})},3708:(e,a,s)=>{s.d(a,{T:()=>n,c:()=>c});const n="/api/",c={PERSONAL:.5,SMALL:.7,MEDIUM:1,BIG:1.5,FAMILIAR:2,PARTY:3}},4703:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var n=s(2791),c=s(9434),i=s(1830),t=s.n(i),l=s(2937),r=(s(3076),s(1687)),o=s(3708),p=s(184);const d=()=>{const e=(0,c.v9)((e=>e.pizza)),[a,s]=(0,n.useState)("MEDIUM"),[i,d]=(0,n.useState)((null===e||void 0===e?void 0:e.price)||0),[h,j]=(0,n.useState)([]),m=(a,n)=>{const c=n.filter((e=>e.checked)).reduce(((e,a)=>e+a.price),0);d(e.price*o.c[a]+c),s(a),j(n)};return(0,n.useEffect)((()=>{(async()=>{const{data:e}=await r.Ud.get("toppings");j(e._embedded.toppings)})()}),[]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(l.xH,{className:"mb-4",children:[(0,p.jsx)(l.bn,{children:e.name}),(0,p.jsxs)(l.sl,{children:[(0,p.jsx)(l.rb,{children:(0,p.jsxs)(l.lx,{children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)(l.L8,{htmlFor:"exampleFormControlInput1",children:"Pizza Size"}),(0,p.jsx)(l.LX,{value:a,"aria-label":"Default select example",onChange:e=>m(e.target.value,h),children:Object.keys(o.c).map((e=>(0,p.jsx)("option",{value:e,children:e},e)))})]}),(0,p.jsxs)(l.rb,{children:[(0,p.jsxs)(l.b7,{sm:4,children:[(0,p.jsx)(l.L8,{htmlFor:"exampleFormControlInput1",children:"Toppings"}),h.map((e=>(0,p.jsx)(l.EC,{label:e.name+" - $"+e.price,name:e.name,checked:e.checked,onChange:()=>(e=>{e.checked=void 0===e.checked||!e.checked,m(a,[...h])})(e)},e.name)))]}),(0,p.jsx)(l.b7,{sm:4,children:(0,p.jsx)(l.DW,{fluid:!0,src:e.imageUrl,className:"pizza"})})]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("br",{}),(0,p.jsx)(l.L8,{htmlFor:"exampleFormControlTextarea1",children:"Indications (Optional)"}),(0,p.jsx)(l.PB,{id:"exampleFormControlTextarea1",rows:"2"})]})]})}),(0,p.jsxs)(l.Bt,{children:[(0,p.jsxs)(l.L8,{children:["Total : $",i.toFixed(2)]}),(0,p.jsx)(l.u5,{color:"outline-success",className:"mx-4",onClick:()=>(async()=>{await r.Ud.post("order",{pizza:e.name,price:i}),t().fire("Done!")})(),children:"Buy"})]})]})]})})}}}]);
//# sourceMappingURL=4703.48956936.chunk.js.map